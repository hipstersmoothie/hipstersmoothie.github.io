(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{126:function(e,t,a){"use strict";a.r(t),a.d(t,"meta",function(){return s});var n=a(0),o=a.n(n),m=a(1);function r(e,t){if(null==e)return{};var a,n,o=function(e,t){if(null==e)return{};var a,n,o={},m=Object.keys(e);for(n=0;n<m.length;n++)a=m[n],t.indexOf(a)>=0||(o[a]=e[a]);return o}(e,t);if(Object.getOwnPropertySymbols){var m=Object.getOwnPropertySymbols(e);for(n=0;n<m.length;n++)a=m[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(o[a]=e[a])}return o}var s={publishDate:"2018-10-24T12:00:00Z",title:"How to set up a Github Pages for your user account"};t.default=function(e){var t=e.components;r(e,["components"]);return o.a.createElement(m.MDXTag,{name:"wrapper",components:t},o.a.createElement(m.MDXTag,{name:"p",components:t},"This post aims to outline the steps one must take to publish and manage a Github Pages website for your user account."),o.a.createElement(m.MDXTag,{name:"p",components:t},"Goals:"),o.a.createElement(m.MDXTag,{name:"ul",components:t},o.a.createElement(m.MDXTag,{name:"li",components:t,parentName:"ul"},"Host source code on Github"),o.a.createElement(m.MDXTag,{name:"li",components:t,parentName:"ul"},"Use ",o.a.createElement(m.MDXTag,{name:"inlineCode",components:t,parentName:"li"},"your-username.github.io")," to host the page"),o.a.createElement(m.MDXTag,{name:"li",components:t,parentName:"ul"},"Use custom domain")),o.a.createElement(m.MDXTag,{name:"p",components:t},"This website was made using the following technique."),o.a.createElement(m.MDXTag,{name:"h1",components:t},"1. Setup source repository"),o.a.createElement(m.MDXTag,{name:"p",components:t},"Set up a repository that contains the files used to build your website. It doesn't really matter how you build it but it must output a directory with all the static files needed to serve your website. For this post I will be using ",o.a.createElement(m.MDXTag,{name:"inlineCode",components:t,parentName:"p"},"next.js")," as an example static website generator."),o.a.createElement(m.MDXTag,{name:"h1",components:t},"2. Setup github.io repository"),o.a.createElement(m.MDXTag,{name:"p",components:t},"This repository will be used for hosting your build website. This is what will be served on ",o.a.createElement(m.MDXTag,{name:"inlineCode",components:t,parentName:"p"},"your-username.github.io"),"."),o.a.createElement(m.MDXTag,{name:"p",components:t},"Set it as a remote for you source code repository:"),o.a.createElement(m.MDXTag,{name:"pre",components:t},o.a.createElement(m.MDXTag,{name:"code",components:t,parentName:"pre",props:{className:"hljs language-sh",metaString:""}},"git add remote github-io https://github.com/your-username/your-username.github.io")),o.a.createElement(m.MDXTag,{name:"h1",components:t},"3. Install ",o.a.createElement(m.MDXTag,{name:"inlineCode",components:t,parentName:"h1"},"push-dir")),o.a.createElement(m.MDXTag,{name:"p",components:t},"We are going to need to push our project to github somehow. I've found that ",o.a.createElement(m.MDXTag,{name:"inlineCode",components:t,parentName:"p"},"push-dir")," is a great tool with a simple interface."),o.a.createElement(m.MDXTag,{name:"pre",components:t},o.a.createElement(m.MDXTag,{name:"code",components:t,parentName:"pre",props:{className:"hljs language-sh",metaString:""}},"yarn add push-dir")),o.a.createElement(m.MDXTag,{name:"h1",components:t},"4. Setup deployment script"),o.a.createElement(m.MDXTag,{name:"p",components:t},"Add a deploy script to your project."),o.a.createElement(m.MDXTag,{name:"pre",components:t},o.a.createElement(m.MDXTag,{name:"code",components:t,parentName:"pre",props:{className:"hljs language-json",metaString:""}},"{\n  ",o.a.createElement(m.MDXTag,{name:"span",components:t,parentName:"code",props:{className:"hljs-attr"}},'"scripts"'),": {\n    ",o.a.createElement(m.MDXTag,{name:"span",components:t,parentName:"code",props:{className:"hljs-attr"}},'"deploy"'),": ",o.a.createElement(m.MDXTag,{name:"span",components:t,parentName:"code",props:{className:"hljs-string"}},'"next build && next export && touch out/.nojekyll && push-dir --dir=out --branch=master --cleanup --verbose --remote=github-io"'),"\n  }\n}")),o.a.createElement(m.MDXTag,{name:"h2",components:t},"Important steps:"),o.a.createElement(m.MDXTag,{name:"h3",components:t},"build"),o.a.createElement(m.MDXTag,{name:"p",components:t},"You must first build your website in some way. Here we run ",o.a.createElement(m.MDXTag,{name:"inlineCode",components:t,parentName:"p"},"next build")," and ",o.a.createElement(m.MDXTag,{name:"inlineCode",components:t,parentName:"p"},"next export"),"."),o.a.createElement(m.MDXTag,{name:"h3",components:t},".nojekyll"),o.a.createElement(m.MDXTag,{name:"p",components:t},"Since the ",o.a.createElement(m.MDXTag,{name:"inlineCode",components:t,parentName:"p"},"next.js")," website creates some folder with ",o.a.createElement(m.MDXTag,{name:"inlineCode",components:t,parentName:"p"},"_")," in the name we need to include a ",o.a.createElement(m.MDXTag,{name:"inlineCode",components:t,parentName:"p"},".nojekyll"),". If you build process produces folder or files with underscore you need to do this too."),o.a.createElement(m.MDXTag,{name:"h3",components:t},"push-dir"),o.a.createElement(m.MDXTag,{name:"p",components:t},"Finally this is where the magic happens. After we have built the website we use ",o.a.createElement(m.MDXTag,{name:"inlineCode",components:t,parentName:"p"},"push-dir")," to push the output directory to the ",o.a.createElement(m.MDXTag,{name:"inlineCode",components:t,parentName:"p"},"github-io"),"'s master branch."),o.a.createElement(m.MDXTag,{name:"p",components:t},"Now we have successfully published to ",o.a.createElement(m.MDXTag,{name:"inlineCode",components:t,parentName:"p"},"your-username.github.io")),o.a.createElement(m.MDXTag,{name:"h1",components:t},"5. Setup custom domain"),o.a.createElement(m.MDXTag,{name:"p",components:t},"Follow ",o.a.createElement(m.MDXTag,{name:"a",components:t,parentName:"p",props:{href:"https://help.github.com/articles/setting-up-an-apex-domain-and-www-subdomain/"}},"this guide")," on how to add the correct IPs to your DNS."),o.a.createElement(m.MDXTag,{name:"p",components:t},"Once you have done that we need to generate a CNAME file for our custom domain and make sure that it gets included in the out directory that is pushed to github-io."),o.a.createElement(m.MDXTag,{name:"p",components:t},"Add the following to scripts (for ",o.a.createElement(m.MDXTag,{name:"inlineCode",components:t,parentName:"p"},"next.js")," we put the CNAME in the ",o.a.createElement(m.MDXTag,{name:"inlineCode",components:t,parentName:"p"},"out")," directory):"),o.a.createElement(m.MDXTag,{name:"pre",components:t},o.a.createElement(m.MDXTag,{name:"code",components:t,parentName:"pre",props:{className:"hljs language-json",metaString:""}},"{\n  ",o.a.createElement(m.MDXTag,{name:"span",components:t,parentName:"code",props:{className:"hljs-attr"}},'"scripts"'),": {\n    ",o.a.createElement(m.MDXTag,{name:"span",components:t,parentName:"code",props:{className:"hljs-attr"}},'"create:cname"'),": ",o.a.createElement(m.MDXTag,{name:"span",components:t,parentName:"code",props:{className:"hljs-string"}},'"touch out/CNAME && echo "your.com" >> out/CNAME"'),",\n    ",o.a.createElement(m.MDXTag,{name:"span",components:t,parentName:"code",props:{className:"hljs-attr"}},'"deploy"'),": ",o.a.createElement(m.MDXTag,{name:"span",components:t,parentName:"code",props:{className:"hljs-string"}},'"next build && next export && && npm run create:cname && touch out/.nojekyll && push-dir --dir=out --branch=master --cleanup --verbose --remote=github-io"'),"\n  }\n}")),o.a.createElement(m.MDXTag,{name:"h2",components:t},"Enable HTTPS on Github"),o.a.createElement(m.MDXTag,{name:"p",components:t},"Go to the settings page for your ",o.a.createElement(m.MDXTag,{name:"inlineCode",components:t,parentName:"p"},"your-username.github.io")," repository and check the ",o.a.createElement(m.MDXTag,{name:"inlineCode",components:t,parentName:"p"},"Enforce HTTPS")," option."),o.a.createElement(m.MDXTag,{name:"h1",components:t},"All done!"),o.a.createElement(m.MDXTag,{name:"p",components:t},"That's it! Now you have a static website managed through github with a custom domain"))}}}]);