<!DOCTYPE html><html><head><meta charSet="utf-8" class="next-head"/><title class="next-head">Blog Posts</title><link rel="preload" href="/_next/static/ZCLED0F09LQ8BAoVF9TeS/pages/blog.js" as="script"/><link rel="preload" href="/_next/static/ZCLED0F09LQ8BAoVF9TeS/pages/_app.js" as="script"/><link rel="preload" href="/_next/static/ZCLED0F09LQ8BAoVF9TeS/pages/_error.js" as="script"/><link rel="preload" href="/_next/static/runtime/webpack-042fd1065dc091f35b5c.js" as="script"/><link rel="preload" href="/_next/static/chunks/commons.9000cc5c5bacdca8b707.js" as="script"/><link rel="preload" href="/_next/static/runtime/main-c25868fc02f41bb89815.js" as="script"/><div><style id="__jsx-757594817">.stats.jsx-757594817{margin:4em auto 0;}
.link.jsx-757594817 p.jsx-757594817+p.jsx-757594817:hover{color:#e8d0a9;}</style><style id="__jsx-2412815819">.content li{margin-top:0.25em;}
.header.jsx-2412815819{background:#6d929b !important;}
.name.jsx-2412815819{margin-bottom:2em;}
.tabs ul{margin:0 1rem;}</style><style id="__jsx-351074346">body a{color:#73b2d9;}</style><style id="__jsx-3237570666">strong{color:rgba(103,183,246,1) !important;}
pre .hljs{background:initial;}</style><style id="__jsx-2676668231">.bottomFade.jsx-2676668231{width:100%;border-bottom-right-radius:5px;border-bottom-left-radius:5px;height:200px;z-index:99;position:absolute;bottom:0;left:0;background:url(/static/bottom-fade.png) bottom left;}.readMore.jsx-2676668231{position:absolute;bottom:20px;left:0;z-index:100;width:100%;text-align:center;}.preview.jsx-2676668231{max-height:525px;overflow:hidden;}.stubPost .blogBody{margin-bottom:0 !important;}</style><style id="__jsx-1762840042">.authorImage.jsx-1762840042{border:3px solid #ccc;border-radius:50%;height:60px;left:50%;margin-left:-30px;position:absolute !important;top:-30px;width:60px;}.blogPost.jsx-1762840042{margin:auto auto 65px;max-width:800px;width:100%;margin-top:100px;}.blogTitle.jsx-1762840042{margin-top:1rem !important;margin-bottom:2.5rem;font-size:2rem;font-weight:lighter;line-height:2;line-height:2.5rem;}.blogSubtitle.jsx-1762840042{color:#909aa0;margin-bottom:2rem;}.blogHeader.jsx-1762840042{margin-top:2.5rem;}.blogBody.jsx-1762840042{line-height:1.4;margin:0 1rem 2rem;}@media screen and (min-width:769px){.blogBody.jsx-1762840042{margin:0 4rem 4rem;}}</style><style id="__jsx-2561141669">.postList.jsx-2561141669{margin:1.5rem;}.blog-pagination.container{margin:6rem auto;}</style></div><div><style id="__jsx-757594817">.stats.jsx-757594817{margin:4em auto 0;}
.link.jsx-757594817 p.jsx-757594817+p.jsx-757594817:hover{color:#e8d0a9;}</style><style id="__jsx-2412815819">.content li{margin-top:0.25em;}
.header.jsx-2412815819{background:#6d929b !important;}
.name.jsx-2412815819{margin-bottom:2em;}
.tabs ul{margin:0 1rem;}</style><style id="__jsx-351074346">body a{color:#73b2d9;}</style><style id="__jsx-3237570666">strong{color:rgba(103,183,246,1) !important;}
pre .hljs{background:initial;}</style><style id="__jsx-2676668231">.bottomFade.jsx-2676668231{width:100%;border-bottom-right-radius:5px;border-bottom-left-radius:5px;height:200px;z-index:99;position:absolute;bottom:0;left:0;background:url(/static/bottom-fade.png) bottom left;}.readMore.jsx-2676668231{position:absolute;bottom:20px;left:0;z-index:100;width:100%;text-align:center;}.preview.jsx-2676668231{max-height:525px;overflow:hidden;}.stubPost .blogBody{margin-bottom:0 !important;}</style><style id="__jsx-1762840042">.authorImage.jsx-1762840042{border:3px solid #ccc;border-radius:50%;height:60px;left:50%;margin-left:-30px;position:absolute !important;top:-30px;width:60px;}.blogPost.jsx-1762840042{margin:auto auto 65px;max-width:800px;width:100%;margin-top:100px;}.blogTitle.jsx-1762840042{margin-top:1rem !important;margin-bottom:2.5rem;font-size:2rem;font-weight:lighter;line-height:2;line-height:2.5rem;}.blogSubtitle.jsx-1762840042{color:#909aa0;margin-bottom:2rem;}.blogHeader.jsx-1762840042{margin-top:2.5rem;}.blogBody.jsx-1762840042{line-height:1.4;margin:0 1rem 2rem;}@media screen and (min-width:769px){.blogBody.jsx-1762840042{margin:0 4rem 4rem;}}</style><style id="__jsx-2561141669">.postList.jsx-2561141669{margin:1.5rem;}.blog-pagination.container{margin:6rem auto;}</style></div><meta name="viewport" content="initial-scale=1.0, width=device-width"/><link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.4.1/css/all.css" integrity="sha384-5sAR7xN1Nv6T6+dT2mhtzEpVJvfS3NScPQTrOxhwjIuvcA67KV2R5Jz6kr4abQsz" crossOrigin="anonymous"/><link rel="stylesheet" href="https://jenil.github.io/bulmaswatch/default/bulmaswatch.min.css"/><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/foundation.min.css"/></head><body><div id="__next"><div class="jsx-351074346 is-fullhd"><section class="jsx-2412815819 hero is-dark header"><div class="jsx-2412815819 hero-body"><div class="jsx-2412815819 container has-text-centered"><div class="jsx-2412815819 level"><div class="jsx-2412815819 level-item"><figure style="width:150px" class="jsx-2412815819 image"><img src="https://avatars2.githubusercontent.com/u/1192452?s=400&amp;v=4" class="jsx-2412815819 is-rounded"/></figure></div></div><h1 class="jsx-2412815819 title name">Hi, I&#x27;m Andrew Lisowski</h1><div class="jsx-757594817 level stats is-mobile"><div class="jsx-757594817 level-item has-text-centered link"><div class="jsx-757594817"><p class="jsx-757594817 heading">GitHub</p><p class="jsx-757594817 title"><a href="https://github.com/hipstersmoothie" target="_blank" rel="noopener noreferrer" class="jsx-757594817"><i class="jsx-757594817 fab fa-github"></i></a></p></div></div><div class="jsx-757594817 level-item has-text-centered link"><div class="jsx-757594817"><p class="jsx-757594817 heading">Twitter</p><p class="jsx-757594817 title"><a href="https://twitter.com/HipsterSmoothie" target="_blank" rel="noopener noreferrer" class="jsx-757594817"><i class="jsx-757594817 fab fa-twitter"></i></a></p></div></div><div class="jsx-757594817 level-item has-text-centered link"><div class="jsx-757594817"><p class="jsx-757594817 heading">Email</p><p class="jsx-757594817 title"><a href="mailto:lisowski54@gmail.com" target="_blank" rel="noopener noreferrer" class="jsx-757594817"><i class="jsx-757594817 far fa-envelope"></i></a></p></div></div><div class="jsx-757594817 level-item has-text-centered link"><div class="jsx-757594817"><p class="jsx-757594817 heading">NPM</p><p class="jsx-757594817 title"><a href="https://www.npmjs.com/~alisowski" target="_blank" rel="noopener noreferrer" class="jsx-757594817"><i class="jsx-757594817 fab fa-npm"></i></a></p></div></div></div></div></div><div class="jsx-2412815819 hero-foot"><nav class="jsx-2412815819 tabs is-boxed is-fullwidth"><ul class="jsx-2412815819"><li class="jsx-2412815819 "><a href="/" class="jsx-2412815819">Overview</a></li><li class="jsx-2412815819 "><a class="jsx-2412815819" href="/projects/">Projects</a></li><li class="jsx-2412815819 is-active"><a class="jsx-2412815819" href="/blog/">Blog</a></li></ul></nav></div></section><div class="blog-index"><div class="jsx-2561141669 postList undefined"><div class="jsx-2561141669"><article class="jsx-1762840042 card blogPost stubPost"><div class="jsx-1762840042 card-content"><div class="jsx-1762840042 media blogHeader"><div class="jsx-1762840042 media-content has-text-centered"><div style="background-size:cover;background-repeat:no-repeat;position:relative;background-image:url(&#x27;https://avatars2.githubusercontent.com/u/1192452?s=400&amp;v=4&#x27;)" class="jsx-1762840042 image authorImage"></div><h1 class="jsx-1762840042 title blogTitle"><a class="jsx-2676668231" href="/blog/next-pages/">Using Next.js with Github Pages</a></h1><p class="jsx-1762840042 subtitle is-6 blogSubtitle"><a target="_blank" rel="noopener noreferrer" to="https://github.intuit.com/alisowski" href="https://github.intuit.com/alisowski" class="jsx-1762840042">Andrew Lisowski</a><span class="jsx-1762840042"> on <!-- -->October 25, 2018</span></p></div></div><div class="jsx-1762840042 blogBody"><div class="jsx-2676668231 preview content"><div><p>Getting <code>next.js</code> to work on a domain at anything other than the root takes a little extra configuration. This post will walk you though the steps to get it up and running.</p><h2>Prefix Static Assets</h2><p>Github project pages urls are deployed to <code>https://your-username.github.io/your-project</code>. To get <code>next.js</code> to properly serve all of your assets (js, css, html) your must include a <code>assetPrefix</code> in your <code>next.config.js</code>.</p><pre><code class="hljs language-js" metaString=""><span class="hljs-keyword">const</span> debug = process.env.NODE_ENV !== <span class="hljs-string">&#x27;production&#x27;</span>;
<span class="hljs-keyword">const</span> assetPrefix = debug ? <span class="hljs-string">&#x27;&#x27;</span> : <span class="hljs-string">&#x27;/your_prefix/&#x27;</span>;

<span class="hljs-built_in">module</span>.exports = {
  assetPrefix
};</code></pre><p>Now you will find that when you deploy your project website to github pages all the static assets work, but if you try clicking anything using the <code>@next/link</code> component you&#x27;ll get a 404. If you have any pages with images served from the static folder you will also notice that they do not work either!</p><h2>Prefix URLs</h2><p>So it seems to get our github project page to work we&#x27;ll also need to all the URLs in our app to be prefixed. This includes both anchor <code>href</code>s and img <code>src</code>s. You could do this yourself, or you could install <a href="https://github.com/hipstersmoothie/next-prefixed"><code>next-prefixed</code></a> a package I published to address this issue.</p><h3>Configure</h3><p>First install <code>next-prefixed</code> and add the following to your <code>next.config.js</code>.</p><pre><code class="hljs language-js" metaString=""><span class="hljs-keyword">const</span> debug = process.env.NODE_ENV !== <span class="hljs-string">&#x27;production&#x27;</span>;
<span class="hljs-keyword">const</span> assetPrefix = debug ? <span class="hljs-string">&#x27;&#x27;</span> : <span class="hljs-string">&#x27;/your_prefix/&#x27;</span>;

<span class="hljs-built_in">module</span>.exports = withPlugins([withCSS, withMDX, withBlog], {
  assetPrefix,
  <span class="hljs-attr">publicRuntimeConfig</span>: {
    assetPrefix
  }
});</code></pre><p><code>publicRuntimeConfig</code> will expose the <code>assetPrefix</code> to our <code>next.js</code> app.</p><h3>Usage</h3><p>Now that you have fully configured your <code>assetPrefix</code> all thats left to do is switch out all <code>@next/link</code> components and <code>img</code> tags with the prefixed versions.</p><pre><code class="hljs language-js" metaString=""><span class="hljs-keyword">import</span> { Link, Image } <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;next-prefixed&#x27;</span>;

<span class="hljs-keyword">const</span> Example = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> (
  <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
    </span>&lt;Image src=&quot;/static/jimp.png&quot; alt=&#x27;Code example&#x27; /&gt;
    &lt;Link href=&quot;/blog&quot; /&gt;
  &lt;/div&gt;
);</code></pre><p>These components use <code>assetPrefix</code> to prefix all the URLs so they resolve in your github-pages app correctly. Now your project page links work!</p><h3>Manual Prefix</h3><p>If you need to manually prefix some URLs that aren&#x27;t covered by <code>next-prefixed</code>&#x27;s components, it also exports <code>prefixUrl</code>. This function simply joins the <code>assetPrefix</code> with whatever path is supplied to it.</p><pre><code class="hljs language-js" metaString=""><span class="hljs-keyword">import</span> { prefixURL } <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;next-prefixed&#x27;</span>;

prefixURL(<span class="hljs-string">&#x27;/blog&#x27;</span>); <span class="hljs-comment">// =&gt; my_prefix/blog</span></code></pre><h1>All done!</h1><p>Now your github project page should work with <code>next.js</code> without a flaw!</p></div></div></div></div></article><article class="jsx-1762840042 card blogPost stubPost"><div class="jsx-1762840042 card-content"><div class="jsx-1762840042 media blogHeader"><div class="jsx-1762840042 media-content has-text-centered"><div style="background-size:cover;background-repeat:no-repeat;position:relative;background-image:url(&#x27;https://avatars2.githubusercontent.com/u/1192452?s=400&amp;v=4&#x27;)" class="jsx-1762840042 image authorImage"></div><h1 class="jsx-1762840042 title blogTitle"><a class="jsx-2676668231" href="/blog/github-pages-user/">How to set up a Github Pages for your user account</a></h1><p class="jsx-1762840042 subtitle is-6 blogSubtitle"><a target="_blank" rel="noopener noreferrer" to="https://github.intuit.com/alisowski" href="https://github.intuit.com/alisowski" class="jsx-1762840042">Andrew Lisowski</a><span class="jsx-1762840042"> on <!-- -->October 24, 2018</span></p></div></div><div class="jsx-1762840042 blogBody"><div class="jsx-2676668231 preview content"><div><p>This post aims to outline the steps one must take to publish and manage a Github Pages website for your user account.</p><p>Goals:</p><ul><li>Host source code on Github</li><li>Use <code>your-username.github.io</code> to host the page</li><li>Use custom domain</li></ul><p>This website was made using the following technique.</p><h1>1. Setup source repository</h1><p>Set up a repository that contains the files used to build your website. It doesn&#x27;t really matter how you build it but it must output a directory with all the static files needed to serve your website. For this post I will be using <code>next.js</code> as an example static website generator.</p><h1>2. Setup github.io repository</h1><p>This repository will be used for hosting your build website. This is what will be served on <code>your-username.github.io</code>.</p><p>Set it as a remote for you source code repository:</p><pre><code class="hljs language-sh" metaString="">git add remote github-io https://github.com/your-username/your-username.github.io</code></pre><h1>3. Install <code>push-dir</code></h1><p>We are going to need to push our project to github somehow. I&#x27;ve found that <code>push-dir</code> is a great tool with a simple interface.</p><pre><code class="hljs language-sh" metaString="">yarn add push-dir</code></pre><h1>4. Setup deployment script</h1><p>Add a deploy script to your project.</p><pre><code class="hljs language-json" metaString="">{
  <span class="hljs-attr">&quot;scripts&quot;</span>: {
    <span class="hljs-attr">&quot;deploy&quot;</span>: <span class="hljs-string">&quot;next build &amp;&amp; next export &amp;&amp; touch out/.nojekyll &amp;&amp; push-dir --dir=out --branch=master --cleanup --verbose --remote=github-io&quot;</span>
  }
}</code></pre><h2>Important steps:</h2><h3>build</h3><p>You must first build your website in some way. Here we run <code>next build</code> and <code>next export</code>.</p><h3>.nojekyll</h3><p>Since the <code>next.js</code> website creates some folder with <code>_</code> in the name we need to include a <code>.nojekyll</code>. If you build process produces folder or files with underscore you need to do this too.</p><h3>push-dir</h3><p>Finally this is where the magic happens. After we have built the website we use <code>push-dir</code> to push the output directory to the <code>github-io</code>&#x27;s master branch.</p><p>Now we have successfully published to <code>your-username.github.io</code></p><h1>5. Setup custom domain</h1><p>Follow <a href="https://help.github.com/articles/setting-up-an-apex-domain-and-www-subdomain/">this guide</a> on how to add the correct IPs to your DNS.</p><p>Once you have done that we need to generate a CNAME file for our custom domain and make sure that it gets included in the out directory that is pushed to github-io.</p><p>Add the following to scripts (for <code>next.js</code> we put the CNAME in the <code>out</code> directory):</p><pre><code class="hljs language-json" metaString="">{
  <span class="hljs-attr">&quot;scripts&quot;</span>: {
    <span class="hljs-attr">&quot;create:cname&quot;</span>: <span class="hljs-string">&quot;touch out/CNAME &amp;&amp; echo &quot;your.com&quot; &gt;&gt; out/CNAME&quot;</span>,
    <span class="hljs-attr">&quot;deploy&quot;</span>: <span class="hljs-string">&quot;next build &amp;&amp; next export &amp;&amp; &amp;&amp; npm run create:cname &amp;&amp; touch out/.nojekyll &amp;&amp; push-dir --dir=out --branch=master --cleanup --verbose --remote=github-io&quot;</span>
  }
}</code></pre><h2>Enable HTTPS on Github</h2><p>Go to the settings page for your <code>your-username.github.io</code> repository and check the <code>Enforce HTTPS</code> option.</p><h1>All done!</h1><p>That&#x27;s it! Now you have a static website managed through github with a custom domain</p></div></div></div></div></article><article class="jsx-1762840042 card blogPost stubPost"><div class="jsx-1762840042 card-content"><div class="jsx-1762840042 media blogHeader"><div class="jsx-1762840042 media-content has-text-centered"><div style="background-size:cover;background-repeat:no-repeat;position:relative;background-image:url(&#x27;https://avatars2.githubusercontent.com/u/1192452?s=400&amp;v=4&#x27;)" class="jsx-1762840042 image authorImage"></div><h1 class="jsx-1762840042 title blogTitle"><a class="jsx-2676668231" href="/blog/webpack-images/">Using Webpack and React-Ideal-Image for Buttery Smooth Images</a></h1><p class="jsx-1762840042 subtitle is-6 blogSubtitle"><a target="_blank" rel="noopener noreferrer" to="https://github.intuit.com/alisowski" href="https://github.intuit.com/alisowski" class="jsx-1762840042">Andrew Lisowski</a><span class="jsx-1762840042"> on <!-- -->June 24, 2018</span></p></div></div><div class="jsx-1762840042 blogBody"><div class="jsx-2676668231 preview content"><div><p>Images on the webpack have a few drawbacks that take some programming to get around.</p><ul><li>Height and width are unknown — this can cause page jumps and weird layouts</li><li>Blank space while loading</li><li>Large images are slow on old devices or weak internet connections</li><li>The HTML page will download all the images on page load — this can be super slow if you have a lot of images on one page</li></ul><p>Luckily there have been a bunch of web standards made to solve these problems. But navigating them all them and then putting it all together can be daunting.</p><p>Enter React-Ideal-Image. It is a react component that has a bunch of cool functionality built in. Such as: LQIP, WebP, SrcSet, and other UX/features to help you on slow devices. You can read more about all the cool things that went into the component here. But one problem still remains when using this component, how do you generate all the necessary images to make this component really shine?</p><h2>Loading Images with Webpack</h2><p>You probably guessed it by the title, the way we can achieve all this cool functionality is by using Webpack and a few loaders to transform our images at build time!</p><p>First here is a simple configuration that will load the images during the build.</p><pre><code class="hljs language-js" metaString=""><span class="hljs-built_in">module</span>.exports = {
  <span class="hljs-attr">module</span>: {
    <span class="hljs-attr">rules</span>: [
      {
        <span class="hljs-attr">test</span>: <span class="hljs-regexp">/.(gif|png|jpe?g)$/i</span>,
        <span class="hljs-attr">use</span>: [<span class="hljs-string">&#x27;file-loader&#x27;</span>]
      }
    ]
  }
};</code></pre><p>And here is an image rendered with React-Ideal-Image. (right now it doesn’t do anything too cool).</p><pre><code class="hljs language-js" metaString=""><span class="hljs-keyword">import</span> IdealImage <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react-ideal-image&#x27;</span>;
<span class="hljs-keyword">import</span> image <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./goat.png&#x27;</span>;
<span class="hljs-keyword">const</span> ImageComponent = <span class="hljs-function"><span class="hljs-params">props</span> =&gt;</span> {
  &lt;IdealImage
    {...this.props}
    src={image}
    width={<span class="hljs-number">1786</span>}
    height={<span class="hljs-number">1540</span>}
    placeholder={{ <span class="hljs-attr">lqip</span>: image }}
    srcSet={[{ <span class="hljs-attr">width</span>: <span class="hljs-number">1786</span>, <span class="hljs-attr">src</span>: image }]}
  /&gt;;
};</code></pre><p>Okay, so we have an image working and rendering, but we aren’t using any of the cool features! You might notice that we are just using the image for the LQIP image. This doesn’t get us anything and will probably make our app al little slower.</p><h2>LQIP Loader</h2><p>LQIP Loader will take any image and produce a Base64 image string and include it with the src any time you import an object, pretty cool! Let’s see what our config looks like now.</p><pre><code class="hljs language-js" metaString="">{
  <span class="hljs-attr">test</span>: <span class="hljs-regexp">/.(gif|png|jpe?g)$/i</span>,
  <span class="hljs-attr">use</span>: [
    <span class="hljs-string">&#x27;lqip-loader&#x27;</span>
    <span class="hljs-string">&#x27;file-loader&#x27;</span>
  ]
}</code></pre><p>Now in our component when we import an image, we get an object with a path to the original src and the LQIP Base64 string.</p><pre><code class="hljs language-js" metaString=""><span class="hljs-keyword">import</span> IdealImage <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react-ideal-image&#x27;</span>;
<span class="hljs-keyword">import</span> image <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./goat.png&#x27;</span>;
<span class="hljs-keyword">const</span> ImageComponent = <span class="hljs-function"><span class="hljs-params">props</span> =&gt;</span> {
  &lt;IdealImage
    {...this.props}
    src={image.src}
    width={<span class="hljs-number">1786</span>}
    height={<span class="hljs-number">1540</span>}
    placeholder={{ <span class="hljs-attr">lqip</span>: image.preSrc }}
    srcSet={[{ <span class="hljs-attr">width</span>: <span class="hljs-number">1786</span>, <span class="hljs-attr">src</span>: image.src }]}
  /&gt;;
};</code></pre><p>Now as we scroll down the page, React-Ideal-Image will show us the initial LQIP image:</p><p>LQIP Image</p><p>And then once the actual image has downloaded it will show us the real image. So cool!</p><p>Actual Image</p><p>But this image is HUGE! Slow devices will have trouble even with LQIP enabled. And we still have the height and the width hard-coded in the component, not good.</p><h2>Generating srcset</h2><p>srcset allows use to tell the browser about multiple sizes of our image and it decided which on to load based on the size of the device. To accomplish this we need another loader. For this we will use responsive-loader since it has a simple API and works with the LQIP loader.</p><p>We do not need the file-loader anymore because the responsive-loader does this for us. Here I include a few sizes that should cover most devices.</p><pre><code class="hljs language-js" metaString="">{
  <span class="hljs-attr">test</span>: <span class="hljs-regexp">/.(gif|png|jpe?g)$/i</span>,
  <span class="hljs-attr">use</span>: [
    <span class="hljs-string">&#x27;lqip-loader&#x27;</span>
    {
      <span class="hljs-attr">loader</span>: <span class="hljs-string">&#x27;responsive-loader&#x27;</span>,
      <span class="hljs-attr">options</span>: {
        <span class="hljs-attr">sizes</span>: [<span class="hljs-number">300</span>, <span class="hljs-number">600</span>, <span class="hljs-number">900</span>, <span class="hljs-number">1200</span>]
      }
    }
  ]
}</code></pre><p>Now we can pass the generated srcset to React-Ideal-Image. The browser will load the smallest size image suitable for the device.</p><pre><code class="hljs language-js" metaString=""><span class="hljs-keyword">import</span> IdealImage <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;react-ideal-image&#x27;</span>;
<span class="hljs-keyword">import</span> image <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./goat.png&#x27;</span>;
<span class="hljs-keyword">const</span> ImageComponent = <span class="hljs-function"><span class="hljs-params">props</span> =&gt;</span> {
  &lt;IdealImage
    {...this.props}
    <span class="hljs-comment">// responsive-loader puts its data in an object</span>
    src={image.src.src}
    width={image.src.height}
    height={image.src.width}
    placeholder={{ <span class="hljs-attr">lqip</span>: image.preSrc }}
    srcSet={image.src.images.map(<span class="hljs-function"><span class="hljs-params">i</span> =&gt;</span> ({
      ...i,
      <span class="hljs-attr">src</span>: i.path
    }))}
  /&gt;;
};</code></pre><p>We’re almost done! All that’s left is to optimize it a little bit.</p><h2>Optimization</h2><p>Some images can be huge but contain very little data. Minifying our images might be able to save us from transferring needlessly large files to the client. To accomplish this lets use image-webpack-loader, which uses imagemin to make the smallest images possible.</p><pre><code class="hljs language-js" metaString="">{
  <span class="hljs-attr">test</span>: <span class="hljs-regexp">/.(gif|png|jpe?g)$/i</span>,
  <span class="hljs-attr">use</span>: [
    <span class="hljs-string">&#x27;lqip-loader&#x27;</span>,
    {
      <span class="hljs-attr">loader</span>: <span class="hljs-string">&#x27;responsive-loader&#x27;</span>,
      <span class="hljs-attr">options</span>: {
        <span class="hljs-attr">sizes</span>: [<span class="hljs-number">300</span>, <span class="hljs-number">600</span>, <span class="hljs-number">900</span>, <span class="hljs-number">1200</span>],
        <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;[path][name]-[width].[ext]&#x27;</span>
      }
    },
    <span class="hljs-string">&#x27;image-webpack-loader&#x27;</span>
  ]
}</code></pre><p>In practice I was able to see some of my images reduce up to 85% in size!</p><h2>Conclusion</h2><p>You can make this component a little more generic and not just render an image of a goat, but anything you pass in. This image is far more useful to the user and creates a smoother loading experience on a range of devices</p></div></div></div></div></article></div><nav class="pagination-container pagination container blog-pagination" role="navigation" aria-label="pagination"><a disabled="" class="pagination-previous nav ">Previous</a><a disabled="" class="pagination-next nav ">Next page</a><ul class="pagination-list "><li><a class="pagination-link  is-current" aria-label="Goto page 1" aria-current="page">1</a></li></ul></nav></div></div><footer class="footer"><div class="content has-text-centered"><p>Copyright (c) 2018 Andrew Lisowski. The source code is licensed under<!-- --> <a href="http://opensource.org/licenses/mit-license.php">MIT</a>.</p></div></footer></div></div><script>__NEXT_DATA__ = {"props":{"pageProps":{"posts":[{"filePath":"pages/blog/next-pages.mdx","urlPath":"/blog/next-pages","title":"Using Next.js with Github Pages","publishDate":"2018-10-25T08:45:08.121Z","author":"Andrew Lisowski","authorLink":"https://github.intuit.com/alisowski","avatar":"https://avatars2.githubusercontent.com/u/1192452?s=400\u0026v=4","file":{}},{"filePath":"pages/blog/github-pages-user.mdx","urlPath":"/blog/github-pages-user","title":"How to set up a Github Pages for your user account","publishDate":"2018-10-24T12:00:00.000Z","author":"Andrew Lisowski","authorLink":"https://github.intuit.com/alisowski","avatar":"https://avatars2.githubusercontent.com/u/1192452?s=400\u0026v=4","file":{}},{"filePath":"pages/blog/webpack-images.mdx","urlPath":"/blog/webpack-images","title":"Using Webpack and React-Ideal-Image for Buttery Smooth Images","publishDate":"2018-06-24T12:00:00.000Z","author":"Andrew Lisowski","authorLink":"https://github.intuit.com/alisowski","avatar":"https://avatars2.githubusercontent.com/u/1192452?s=400\u0026v=4","file":{}}]}},"page":"/blog","query":{},"buildId":"ZCLED0F09LQ8BAoVF9TeS","nextExport":true};__NEXT_LOADED_PAGES__=[];__NEXT_REGISTER_PAGE=function(r,f){__NEXT_LOADED_PAGES__.push([r, f])}</script><script async="" id="__NEXT_PAGE__/blog" src="/_next/static/ZCLED0F09LQ8BAoVF9TeS/pages/blog.js"></script><script async="" id="__NEXT_PAGE__/_app" src="/_next/static/ZCLED0F09LQ8BAoVF9TeS/pages/_app.js"></script><script async="" id="__NEXT_PAGE__/_error" src="/_next/static/ZCLED0F09LQ8BAoVF9TeS/pages/_error.js"></script><script src="/_next/static/runtime/webpack-042fd1065dc091f35b5c.js" async=""></script><script src="/_next/static/chunks/commons.9000cc5c5bacdca8b707.js" async=""></script><script src="/_next/static/runtime/main-c25868fc02f41bb89815.js" async=""></script></body></html>